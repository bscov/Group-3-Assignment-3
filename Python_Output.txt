\documentclass[11pt]{article}

    \usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro

    \usepackage{iftex}
    \ifPDFTeX
        \usepackage[T1]{fontenc}
        \IfFileExists{alphabeta.sty}{
              \usepackage{alphabeta}
          }{
              \usepackage[mathletters]{ucs}
              \usepackage[utf8x]{inputenc}
          }
    \else
        \usepackage{fontspec}
        \usepackage{unicode-math}
    \fi

    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    \makeatletter % fix for old versions of grffile with XeLaTeX
    \@ifpackagelater{grffile}{2019/11/01}
    {
      % Do nothing on new versions
    }
    {
      \def\Gread@@xetex#1{%
        \IfFileExists{"\Gin@base".bb}%
        {\Gread@eps{\Gin@base.bb}}%
        {\Gread@@xetex@aux#1}%
      }
    }
    \makeatother
    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage{array}     % table support for pandoc >= 2.11.3
    \usepackage{calc}      % table minipage width calculation for pandoc >= 2.11.1
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % common color for the border for error outputs.
    \definecolor{outerrorbackground}{HTML}{FFDFDF}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{Assignment\_3\_Draft\_3}
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\@namedef{PY@tok@w}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\@namedef{PY@tok@c}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cp}{\def\PY@tc##1{\textcolor[rgb]{0.61,0.40,0.00}{##1}}}
\@namedef{PY@tok@k}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kt}{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\@namedef{PY@tok@o}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ow}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@nb}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nf}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@ne}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.80,0.25,0.22}{##1}}}
\@namedef{PY@tok@nv}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@no}{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\@namedef{PY@tok@nl}{\def\PY@tc##1{\textcolor[rgb]{0.46,0.46,0.00}{##1}}}
\@namedef{PY@tok@ni}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@na}{\def\PY@tc##1{\textcolor[rgb]{0.41,0.47,0.13}{##1}}}
\@namedef{PY@tok@nt}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nd}{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@s}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sd}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@si}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@se}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.36,0.12}{##1}}}
\@namedef{PY@tok@sr}{\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@ss}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sx}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@m}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@gh}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@gu}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\@namedef{PY@tok@gd}{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\@namedef{PY@tok@gi}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.52,0.00}{##1}}}
\@namedef{PY@tok@gr}{\def\PY@tc##1{\textcolor[rgb]{0.89,0.00,0.00}{##1}}}
\@namedef{PY@tok@ge}{\let\PY@it=\textit}
\@namedef{PY@tok@gs}{\let\PY@bf=\textbf}
\@namedef{PY@tok@gp}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@go}{\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@gt}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\@namedef{PY@tok@err}{\def\PY@bc##1{{\setlength{\fboxsep}{\string -\fboxrule}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}}
\@namedef{PY@tok@kc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kd}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kr}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@bp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@fm}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@vc}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vg}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vi}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vm}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sa}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sb}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sc}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@dl}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s2}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sh}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s1}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@mb}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mf}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mh}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mi}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@il}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mo}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ch}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cm}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cpf}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@c1}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cs}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb.
    \makeatletter
        \newbox\Wrappedcontinuationbox
        \newbox\Wrappedvisiblespacebox
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}}
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}}
        \newcommand*\Wrappedcontinuationindent {3ex }
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox}
        % Take advantage of the already applied Pygments mark-up to insert
        % potential linebreaks for TeX processing.
        %        {, <, #, %, $, ' and ": go to next line.
        %        _, }, ^, &, >, - and ~: stay at end of broken line.
        % Use of \textquotesingle for straight quote.
        \newcommand*\Wrappedbreaksatspecials {%
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}%
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}%
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}%
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}%
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}%
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}%
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}%
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}%
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}%
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}%
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}%
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}%
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}%
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}%
        }
        % Some characters . , ; ? ! / are not pygmentized.
        % This macro makes them "active" and they will insert potential linebreaks
        \newcommand*\Wrappedbreaksatpunct {%
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}%
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}%
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}%
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}%
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}%
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}%
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}%
            \catcode`\.\active
            \catcode`\,\active
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active
            \lccode`\~`\~
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%

        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}

    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        {\ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}}
    }
    

    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

\begin{document}
    
    \maketitle
    
    

    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{1}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}load libraries}
\PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
\PY{k+kn}{import} \PY{n+nn}{geopandas} \PY{k}{as} \PY{n+nn}{gpd}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
\PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
\PY{k+kn}{import} \PY{n+nn}{pulp}
\PY{k+kn}{from} \PY{n+nn}{pulp} \PY{k+kn}{import} \PY{n}{LpProblem}\PY{p}{,} \PY{n}{LpVariable}\PY{p}{,} \PY{n}{LpMinimize}\PY{p}{,} \PY{n}{lpSum}\PY{p}{,} \PY{n}{value}
\PY{k+kn}{from} \PY{n+nn}{plotnine} \PY{k+kn}{import} \PY{p}{(}\PY{n}{ggplot}\PY{p}{,} \PY{n}{aes}\PY{p}{,} \PY{n}{geom\PYZus{}map}\PY{p}{,} \PY{n}{geom\PYZus{}text}\PY{p}{,} \PY{n}{geom\PYZus{}label}\PY{p}{,} 
                      \PY{n}{ggtitle}\PY{p}{,} \PY{n}{element\PYZus{}blank}\PY{p}{,} \PY{n}{element\PYZus{}rect}\PY{p}{,} 
                      \PY{n}{scale\PYZus{}fill\PYZus{}manual}\PY{p}{,} \PY{n}{theme\PYZus{}minimal}\PY{p}{,} \PY{n}{theme}\PY{p}{,} \PY{n}{coord\PYZus{}fixed}\PY{p}{,} \PY{n}{xlim}\PY{p}{,} \PY{n}{ylim}\PY{p}{)} 
\PY{k+kn}{import} \PY{n+nn}{adjustText} \PY{k}{as} \PY{n+nn}{aT}
\PY{k+kn}{import} \PY{n+nn}{itertools}
\PY{k+kn}{import} \PY{n+nn}{folium}
\PY{k+kn}{from} \PY{n+nn}{folium} \PY{k+kn}{import} \PY{n}{plugins}

\PY{c+c1}{\PYZsh{} View all columns and rows}
\PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}columns}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}
\PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}rows}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{90}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Set up notebook to display multiple outputs in one cell}
\PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{core}\PY{n+nn}{.}\PY{n+nn}{interactiveshell} \PY{k+kn}{import} \PY{n}{InteractiveShell}
\PY{n}{InteractiveShell}\PY{o}{.}\PY{n}{ast\PYZus{}node\PYZus{}interactivity} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{all}\PY{l+s+s2}{\PYZdq{}}
\end{Verbatim}
\end{tcolorbox}

    \section{Load Datasets}\label{load-datasets}

    \subsection{County Adjacency Data}\label{county-adjacency-data}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{adj\PYZus{}raw} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{county\PYZus{}adjacency2010.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{adj\PYZus{}raw}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\PY{n}{adj\PYZus{}raw}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
           countyname  fipscounty        neighborname  fipsneighbor
0  Autauga County, AL        1001  Autauga County, AL          1001
1  Autauga County, AL        1001  Chilton County, AL          1021
2  Autauga County, AL        1001   Dallas County, AL          1047
3  Autauga County, AL        1001   Elmore County, AL          1051
4  Autauga County, AL        1001  Lowndes County, AL          1085
\end{Verbatim}
\end{tcolorbox}
        
    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 22200 entries, 0 to 22199
Data columns (total 4 columns):
 \#   Column        Non-Null Count  Dtype
---  ------        --------------  -----
 0   countyname    22200 non-null  object
 1   fipscounty    22200 non-null  int64
 2   neighborname  22200 non-null  object
 3   fipsneighbor  22200 non-null  int64
dtypes: int64(2), object(2)
memory usage: 693.9+ KB
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{3}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}isolate Washington counties in adjacency matrix}

\PY{n}{adj} \PY{o}{=} \PY{n}{adj\PYZus{}raw}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{adj\PYZus{}raw}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{countyname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{o}{.}\PY{n}{contains}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{, WA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}
\PY{n}{adj}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{countyname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{adj}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{countyname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{p}{[}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{4}\PY{p}{]}
\PY{n}{adj}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighborname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{adj}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighborname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{str}\PY{p}{[}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{4}\PY{p}{]}
\PY{n}{adj}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{drop} \PY{o}{=} \PY{k+kc}{True}\PY{p}{,} \PY{n}{inplace} \PY{o}{=} \PY{k+kc}{True}\PY{p}{)}
\PY{n}{adj}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\PY{n}{adj}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 254 entries, 0 to 253
Data columns (total 4 columns):
 \#   Column        Non-Null Count  Dtype
---  ------        --------------  -----
 0   countyname    254 non-null    object
 1   fipscounty    254 non-null    int64
 2   neighborname  254 non-null    object
 3   fipsneighbor  254 non-null    int64
dtypes: int64(2), object(2)
memory usage: 8.1+ KB
    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
/var/folders/z0/v3y1p30945d16\_whz3lt8v\_h0000gn/T/ipykernel\_34501/4144378083.py:4
: SettingWithCopyWarning:
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row\_indexer,col\_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-
docs/stable/user\_guide/indexing.html\#returning-a-view-versus-a-copy
/var/folders/z0/v3y1p30945d16\_whz3lt8v\_h0000gn/T/ipykernel\_34501/4144378083.py:5
: SettingWithCopyWarning:
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row\_indexer,col\_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-
docs/stable/user\_guide/indexing.html\#returning-a-view-versus-a-copy
    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{3}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
     countyname  fipscounty     neighborname  fipsneighbor
0  Adams County       53001     Adams County         53001
1  Adams County       53001  Franklin County         53021
2  Adams County       53001     Grant County         53025
3  Adams County       53001   Lincoln County         53043
4  Adams County       53001   Whitman County         53075
\end{Verbatim}
\end{tcolorbox}
        
    \subsection{Washington State
Shapefile}\label{washington-state-shapefile}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}read Washington shapefile}
\PY{n}{shapefile\PYZus{}WA} \PY{o}{=} \PY{n}{gpd}\PY{o}{.}\PY{n}{read\PYZus{}file}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WA\PYZus{}County\PYZus{}Boundaries.shp}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{shapefile\PYZus{}WA}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   OBJECTID  JURISDICT\_  JURISDIC\_1   JURISDIC\_2          JURISDIC\_3  \textbackslash{}
0     35374          25           4        Grant        Grant County
1     39535          33           4     Garfield     Garfield County
2     39897           8           4       Island       Island County
3     40525     4699350           4     Kittitas     Kittitas County
4     40569          35           4  Walla Walla  Walla Walla County

   JURISDIC\_4  JURISDIC\_5 JURISDIC\_6   EDIT\_DATE  EDIT\_STATU EDIT\_WHO  \textbackslash{}
0          13       53025       None  2018-03-15           1  TSTE490
1          12       53023       None  2022-06-23           1  TSTE490
2          15       53029       None  2018-03-15           1  TSTE490
3          19       53037       None  2023-07-27           0  TSTE490
4          36       53071       None  2015-10-14           1  JDUG490

                                 GLOBALID  \textbackslash{}
0  \{E82D6621-C75E-43A9-ACC2-71D374E5721C\}
1  \{2D436843-A80E-4802-B5F5-0C2C62BD5D27\}
2  \{8E32964C-BB29-460B-8D7C-1CCC33181DD4\}
3  \{F24278BB-7AAD-458D-BB15-5F6321C597B4\}
4  \{4D0C8CF7-D96F-4C1C-BE41-E7ED558E5544\}

                                            geometry
0  POLYGON ((-13245041.204 6100462.041, -13245049{\ldots}
1  POLYGON ((-13077215.155 5893282.479, -13076922{\ldots}
2  POLYGON ((-13645903.473 6175425.382, -13645833{\ldots}
3  POLYGON ((-13482428.890 6040101.397, -13482417{\ldots}
4  POLYGON ((-13170470.944 5878093.595, -13170220{\ldots}
\end{Verbatim}
\end{tcolorbox}
        
    \subsection{County Population Data}\label{county-population-data}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}import csv of Washington county data (excluding King, Pierce, and Snohomish Counties)}
\PY{n}{df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{WA\PYZus{}Counties.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{df}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\PY{n}{df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 36 entries, 0 to 35
Data columns (total 8 columns):
 \#   Column              Non-Null Count  Dtype
---  ------              --------------  -----
 0   Python\_County\_Code  36 non-null     int64
 1   County              36 non-null     object
 2   County\_Code         36 non-null     int64
 3   Population          36 non-null     int64
 4   White\_Pop           36 non-null     int64
 5   Percent\_White\_Pop   36 non-null     float64
 6   Latitude            36 non-null     float64
 7   Longitude           36 non-null     float64
dtypes: float64(3), int64(4), object(1)
memory usage: 2.4+ KB
    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Python\_County\_Code          County  County\_Code  Population  White\_Pop  \textbackslash{}
0                   1    Adams County            1       20613      17078
1                   2   Asotin County            3       22285      20813
2                   3   Benton County            5      206873     182727
3                   4   Chelan County            7       79074      70583
4                   5  Clallam County            9       77155      70469

   Percent\_White\_Pop  Latitude  Longitude
0               0.83   46.9272  -118.5110
1               0.93   46.1460  -117.2085
2               0.88   46.3166  -119.5022
3               0.89   47.9445  -120.6749
4               0.91   48.1134  -123.7986
\end{Verbatim}
\end{tcolorbox}
        
    \section{Investigate Population
Distribution}\label{investigate-population-distribution}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{61}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}looking for population breakpoint in case we need to add a constraint to break up large counties}
\PY{n}{plt}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{61}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\{'whiskers': [<matplotlib.lines.Line2D at 0x29acf6fb0>,
  <matplotlib.lines.Line2D at 0x29acf6d10>],
 'caps': [<matplotlib.lines.Line2D at 0x29acf6a70>,
  <matplotlib.lines.Line2D at 0x29acf6890>],
 'boxes': [<matplotlib.lines.Line2D at 0x29acf7250>],
 'medians': [<matplotlib.lines.Line2D at 0x29acf66b0>],
 'fliers': [<matplotlib.lines.Line2D at 0x29acf6410>],
 'means': []\}
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_10_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \section{Integer Progamming Model}\label{integer-progamming-model}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{62}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}define population bounds}
\PY{n}{max\PYZus{}pop} \PY{o}{=} \PY{l+m+mi}{811034}
\PY{n}{min\PYZus{}pop} \PY{o}{=} \PY{l+m+mi}{663573}

\PY{c+c1}{\PYZsh{}define district limits}
\PY{n}{max\PYZus{}districts} \PY{o}{=} \PY{l+m+mi}{5}

\PY{c+c1}{\PYZsh{}create list of county names}
\PY{n}{counties} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{County}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{total\PYZus{}counties} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{counties}\PY{p}{)}
\PY{n}{total\PYZus{}counties}

\PY{c+c1}{\PYZsh{}create list of county populations}
\PY{n}{county\PYZus{}pop} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n+nb}{len}\PY{p}{(}\PY{n}{county\PYZus{}pop}\PY{p}{)}

\PY{c+c1}{\PYZsh{}create variable names for model}
\PY{n}{var\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)} \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{max\PYZus{}districts} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{total\PYZus{}counties} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n+nb}{len}\PY{p}{(}\PY{n}{var\PYZus{}names}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{62}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
36
\end{Verbatim}
\end{tcolorbox}
        
            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{62}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
36
\end{Verbatim}
\end{tcolorbox}
        
            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{62}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
180
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{63}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}define minimization problem}
\PY{n}{WA\PYZus{}Districts} \PY{o}{=} \PY{n}{LpProblem}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Washington\PYZus{}Districting\PYZus{}Model}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{LpMinimize}\PY{p}{)}

\PY{c+c1}{\PYZsh{}define variables}

\PY{c+c1}{\PYZsh{}decision variable \PYZhy{} groups of counties}
\PY{n}{dv\PYZus{}group} \PY{o}{=} \PY{n}{LpVariable}\PY{o}{.}\PY{n}{matrix}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Y}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{var\PYZus{}names}\PY{p}{,} \PY{n}{cat} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Binary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{group} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{dv\PYZus{}group}\PY{p}{)}\PY{o}{.}\PY{n}{reshape}\PY{p}{(}\PY{l+m+mi}{36}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}

\PY{c+c1}{\PYZsh{}decision variable \PYZhy{} populations}
\PY{n}{dv\PYZus{}pop} \PY{o}{=} \PY{n}{LpVariable}\PY{o}{.}\PY{n}{matrix}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{X}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{var\PYZus{}names}\PY{p}{,} \PY{n}{cat} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Integer}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{lowBound} \PY{o}{=} \PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{pop} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{dv\PYZus{}pop}\PY{p}{)}\PY{o}{.}\PY{n}{reshape}\PY{p}{(}\PY{l+m+mi}{36}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}

\PY{c+c1}{\PYZsh{}decision variable \PYZhy{} neighboring counties}
\PY{n}{neighbors} \PY{o}{=} \PY{n}{LpVariable}\PY{o}{.}\PY{n}{dicts}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Adj}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{p}{[}\PY{p}{(}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{,} \PY{n}{k}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)} 
                                     \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)} \PY{k}{for} \PY{n}{k} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{n}{cat} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Binary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{c+c1}{\PYZsh{}objective function to minimize groupings of counties}
\PY{n}{WA\PYZus{}obj\PYZus{}function} \PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{group}\PY{p}{)}
\PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{WA\PYZus{}obj\PYZus{}function}

\PY{c+c1}{\PYZsh{}define constraints}

\PY{c+c1}{\PYZsh{}entire county population must be used}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
        \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{)} \PY{o}{==} \PY{n}{county\PYZus{}pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Total Population}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}

\PY{c+c1}{\PYZsh{}every county must be in one district}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
        \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{county\PYZus{}pop}\PY{p}{)}\PY{o}{*}\PY{n}{group}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Group Population}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}

\PY{c+c1}{\PYZsh{}districts cannot be over/under min/max population bounds}
\PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
    \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{)} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{max\PYZus{}pop}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{District Population Maximum}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}
    \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{)} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{n}{min\PYZus{}pop}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{District Population Minimum}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}
    
\PY{c+c1}{\PYZsh{}counties in districts must be adjacent}
\PY{k}{for} \PY{n}{k} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
        \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{n}{i} \PY{o}{!=} \PY{n}{j} \PY{o+ow}{and} \PY{p}{(}\PY{n}{adj}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighborname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{adj}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{j}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighborname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
                \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{neighbors}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{,} \PY{n}{k}\PY{p}{]} \PY{o}{+} \PY{n}{neighbors}\PY{p}{[}\PY{n}{j}\PY{p}{,} \PY{n}{i}\PY{p}{,} \PY{n}{k}\PY{p}{]} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2} \PY{o}{*} \PY{n}{group}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{k}\PY{p}{]}

\PY{c+c1}{\PYZsh{}solve objective function}
\PY{n}{WA\PYZus{}Districts}\PY{o}{.}\PY{n}{solve}\PY{p}{(}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Optimal solution status:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{pulp}\PY{o}{.}\PY{n}{LpStatus}\PY{p}{[}\PY{n}{WA\PYZus{}Districts}\PY{o}{.}\PY{n}{status}\PY{p}{]}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Objective value:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{value}\PY{p}{(}\PY{n}{WA\PYZus{}obj\PYZus{}function}\PY{p}{)}\PY{p}{)}

\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{0}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{County }\PY{l+s+si}{\PYZpc{}d}\PY{l+s+s1}{ assigned to district }\PY{l+s+si}{\PYZpc{}d}\PY{l+s+s1}{: }\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{)}\PY{p}{,} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Welcome to the CBC MILP Solver
Version: 2.10.3
Build Date: Dec 15 2019

command line - /Users/baileyscoville/anaconda3/lib/python3.10/site-
packages/pulp/solverdir/cbc/osx/64/cbc /var/folders/z0/v3y1p30945d16\_whz3lt8v\_h0
000gn/T/de24836d71af4e4285911c2e79508949-pulp.mps timeMode elapsed branch
printingOptions all solution /var/folders/z0/v3y1p30945d16\_whz3lt8v\_h0000gn/T/de
24836d71af4e4285911c2e79508949-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 435 COLUMNS
At line 3256 RHS
At line 3687 BOUNDS
At line 4108 ENDATA
Problem MODEL has 430 rows, 420 columns and 1800 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 1 - 0.00 seconds
Cgl0004I processed model has 221 rows, 360 columns (360 integer (180 of which
binary)) and 720 elements
Cutoff increment increased from 1e-05 to 0.9999
Cbc0038I Initial state - 8 integers unsatisfied sum - 1.97397
Cbc0038I Pass   1: suminf.    0.37652 (3) obj. 36.3765 iterations 43
Cbc0038I Solution found of 39
Cbc0038I Cleaned solution of 39
Cbc0038I Before mini branch and bound, 340 integers at bound fixed and 0
continuous
Cbc0038I Full problem 221 rows 360 columns, reduced to 13 rows 14 columns
Cbc0038I Mini branch and bound improved solution from 39 to 38 (0.01 seconds)
Cbc0038I Round again with cutoff of 36.9001
Cbc0038I Pass   2: suminf.    0.37652 (3) obj. 36.3765 iterations 0
Cbc0038I Pass   3: suminf.    0.48033 (4) obj. 36.9001 iterations 18
Cbc0038I Pass   4: suminf.    0.48033 (4) obj. 36.9001 iterations 3
Cbc0038I Pass   5: suminf.    0.82734 (4) obj. 36.9001 iterations 23
Cbc0038I Pass   6: suminf.    0.78872 (3) obj. 36.9001 iterations 13
Cbc0038I Pass   7: suminf.    0.48033 (4) obj. 36.9001 iterations 25
Cbc0038I Pass   8: suminf.    1.09991 (3) obj. 36.9001 iterations 48
Cbc0038I Pass   9: suminf.    1.09991 (3) obj. 36.9001 iterations 1
Cbc0038I Pass  10: suminf.    0.86356 (4) obj. 36.3084 iterations 46
Cbc0038I Pass  11: suminf.    0.57723 (4) obj. 36.5772 iterations 6
Cbc0038I Pass  12: suminf.    1.39656 (4) obj. 36.9001 iterations 43
Cbc0038I Pass  13: suminf.    0.71665 (3) obj. 36.9001 iterations 52
Cbc0038I Pass  14: suminf.    1.56545 (6) obj. 36.9001 iterations 57
Cbc0038I Pass  15: suminf.    1.56545 (6) obj. 36.9001 iterations 0
Cbc0038I Pass  16: suminf.    1.10089 (5) obj. 36.9001 iterations 29
Cbc0038I Pass  17: suminf.    0.52588 (3) obj. 36.9001 iterations 18
Cbc0038I Pass  18: suminf.    1.98654 (9) obj. 36.9001 iterations 55
Cbc0038I Pass  19: suminf.    0.42580 (3) obj. 36.9001 iterations 27
Cbc0038I Pass  20: suminf.    0.77214 (3) obj. 36.7876 iterations 52
Cbc0038I Pass  21: suminf.    0.11282 (2) obj. 36.9001 iterations 26
Cbc0038I Pass  22: suminf.    0.88464 (3) obj. 36.9001 iterations 35
Cbc0038I Pass  23: suminf.    2.10421 (9) obj. 36.9001 iterations 73
Cbc0038I Pass  24: suminf.    0.37293 (3) obj. 36.9001 iterations 41
Cbc0038I Pass  25: suminf.    0.50910 (2) obj. 36.5705 iterations 45
Cbc0038I Pass  26: suminf.    0.09991 (1) obj. 36.9001 iterations 32
Cbc0038I Pass  27: suminf.    1.63674 (7) obj. 36.9001 iterations 48
Cbc0038I Pass  28: suminf.    0.81735 (5) obj. 36.9001 iterations 46
Cbc0038I Pass  29: suminf.    1.62707 (5) obj. 36.9001 iterations 53
Cbc0038I Pass  30: suminf.    0.90009 (3) obj. 36.9001 iterations 20
Cbc0038I Pass  31: suminf.    0.55069 (2) obj. 36.5507 iterations 8
Cbc0038I Rounding solution of 37 is better than previous of 38

Cbc0038I Before mini branch and bound, 176 integers at bound fixed and 0
continuous
Cbc0038I Full problem 221 rows 360 columns, reduced to 115 rows 168 columns
Cbc0038I Mini branch and bound improved solution from 37 to 36 (0.03 seconds)
Cbc0038I After 0.03 seconds - Feasibility pump exiting with objective of 36 -
took 0.02 seconds
Cbc0012I Integer solution of 36 found by feasibility pump after 0 iterations and
0 nodes (0.03 seconds)
Cbc0001I Search completed - best objective 36, took 0 iterations and 0 nodes
(0.03 seconds)
Cbc0035I Maximum depth 0, 0 variables fixed on reduced cost
Cuts at root node changed objective from 36 to 36
Probing was tried 0 times and created 0 cuts of which 0 were active after adding
rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding
rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after
adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding
rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were
active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after
adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after
adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after
adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                36.00000000
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.02
Time (Wallclock seconds):       0.03

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.03   (Wallclock seconds):       0.03

    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{63}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
1
\end{Verbatim}
\end{tcolorbox}
        
    \begin{Verbatim}[commandchars=\\\{\}]
Optimal solution status: Optimal
Objective value: 36.0
County 0 assigned to district 2:  20613.0
County 1 assigned to district 4:  22285.0
County 2 assigned to district 4:  206873.0
County 3 assigned to district 3:  79074.0
County 4 assigned to district 3:  77155.0
County 5 assigned to district 3:  503311.0
County 6 assigned to district 3:  3952.0
County 7 assigned to district 2:  110730.0
County 8 assigned to district 0:  42938.0
County 9 assigned to district 3:  7178.0
County 10 assigned to district 2:  96749.0
County 11 assigned to district 3:  2286.0
County 12 assigned to district 1:  99123.0
County 13 assigned to district 0:  75636.0
County 14 assigned to district 1:  86857.0
County 15 assigned to district 2:  275611.0
County 16 assigned to district 3:  44337.0
County 17 assigned to district 4:  82149.0
County 18 assigned to district 3:  10876.0
County 19 assigned to district 0:  42104.0
County 20 assigned to district 0:  23365.0
County 21 assigned to district 4:  17788.0
County 22 assigned to district 4:  12036.0
County 23 assigned to district 3:  46445.0
County 24 assigned to district 4:  294793.0
County 25 assigned to district 2:  62584.0
County 26 assigned to district 1:  226847.0
County 27 assigned to district 1:  256728.0
County 28 assigned to district 4:  32977.0
County 29 assigned to district 0:  22735.0
County 30 assigned to district 2:  65726.0
County 31 assigned to district 0:  13401.0
County 32 assigned to district 2:  129523.0
County 33 assigned to district 0:  539339.0
County 34 assigned to district 4:  4422.0
County 35 assigned to district 0:  47973.0
    \end{Verbatim}

    \subsection{Create Model Results
Dataframe}\label{create-model-results-dataframe}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{districts\PYZus{}final} \PY{o}{=} \PY{p}{[}\PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
        \PY{n}{var\PYZus{}output} \PY{o}{=} \PY{p}{\PYZob{}}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Python\PYZus{}County\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{j}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n+nb}{int}\PY{p}{(}\PY{n}{group}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{p}{(}\PY{n}{j}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Allocation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}
        \PY{n}{districts\PYZus{}final}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{var\PYZus{}output}\PY{p}{)}
        
\PY{n}{results} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{districts\PYZus{}final}\PY{p}{)}
\PY{n}{results} \PY{o}{=} \PY{n}{results}\PY{p}{[}\PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+m+mi}{0}\PY{p}{]}
\PY{n}{results} \PY{o}{=} \PY{n}{results}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Python\PYZus{}County\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{results}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
    Python\_County\_Code  District  Assignment  Allocation
2                    1         3           3     20613.0
9                    2         5           5     22285.0
14                   3         5           5    206873.0
18                   4         4           4     79074.0
23                   5         4           4     77155.0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{64}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}merge results dataframe with population/county dataframe}
\PY{n}{df1} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{results}\PY{p}{,} \PY{n}{df}\PY{p}{,} \PY{n}{left\PYZus{}on} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Python\PYZus{}County\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{right\PYZus{}on} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Python\PYZus{}County\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{how} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{df1}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{64}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
   Python\_County\_Code  District  Assignment  Allocation          County  \textbackslash{}
0                   1         3           3     20613.0    Adams County
1                   2         5           5     22285.0   Asotin County
2                   3         5           5    206873.0   Benton County
3                   4         4           4     79074.0   Chelan County
4                   5         4           4     77155.0  Clallam County

   County\_Code  Population  White\_Pop  Percent\_White\_Pop  Latitude  Longitude
0            1       20613      17078               0.83   46.9272  -118.5110
1            3       22285      20813               0.93   46.1460  -117.2085
2            5      206873     182727               0.88   46.3166  -119.5022
3            7       79074      70583               0.89   47.9445  -120.6749
4            9       77155      70469               0.91   48.1134  -123.7986
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{65}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}confirm district population bounds are met}
\PY{n}{df2} \PY{o}{=} \PY{n}{df1}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\PY{n}{df2}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{65}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
District
1    807491
2    669555
3    761536
4    774614
5    673323
Name: Population, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \section{Create District Map}\label{create-district-map}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{92}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{shade\PYZus{}dict} \PY{o}{=} \PY{p}{\PYZob{}} \PY{l+m+mi}{1} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lightsteelblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{2} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dodgerblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{3} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{royalblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{4} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mediumblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{5} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{darkblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{6} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{12}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{14}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{15}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{16}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{21}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{23}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{24}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{25}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{26}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{31}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{32}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{34}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{35}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{36}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{41}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{42}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{43}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{45}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{46}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{51}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{52}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{53}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{54}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{56}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{61}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{62}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{63}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{64}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{65}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}

\PY{k}{def} \PY{n+nf}{WA\PYZus{}map}\PY{p}{(}\PY{n}{map\PYZus{}data}\PY{p}{)}\PY{p}{:}
    \PY{n}{plot\PYZus{}district\PYZus{}map} \PY{o}{=} \PY{p}{(}
        \PY{n}{ggplot}\PY{p}{(}\PY{n}{map\PYZus{}data}\PY{p}{)}
    \PY{o}{+} \PY{n}{geom\PYZus{}map}\PY{p}{(}\PY{n}{aes}\PY{p}{(}\PY{n}{fill}\PY{o}{=}\PY{n+nb}{str}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
    \PY{o}{+} \PY{n}{theme\PYZus{}minimal}\PY{p}{(}\PY{p}{)}
    \PY{o}{+} \PY{n}{theme}\PY{p}{(}\PY{n}{axis\PYZus{}text\PYZus{}x}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{axis\PYZus{}text\PYZus{}y}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{axis\PYZus{}title\PYZus{}x}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{axis\PYZus{}title\PYZus{}y}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{axis\PYZus{}ticks}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{panel\PYZus{}grid\PYZus{}major}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{panel\PYZus{}grid\PYZus{}minor}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{figure\PYZus{}size}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{)}\PY{p}{)}
    \PY{o}{+} \PY{n}{xlim}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{14000000}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mi}{13000000}\PY{p}{)}
    \PY{o}{+} \PY{n}{ylim}\PY{p}{(}\PY{l+m+mi}{5500000}\PY{p}{,} \PY{l+m+mi}{6500000}\PY{p}{)}
    \PY{o}{+} \PY{n}{ggtitle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Washington County District Map}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{o}{+} \PY{n}{scale\PYZus{}fill\PYZus{}manual}\PY{p}{(}\PY{n}{values}\PY{o}{=}\PY{n}{shade\PYZus{}dict}\PY{p}{)}\PY{p}{)}
        
    \PY{k}{return} \PY{n}{plot\PYZus{}district\PYZus{}map}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{93}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{map\PYZus{}model1} \PY{o}{=} \PY{n}{shapefile\PYZus{}WA}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{df1}\PY{p}{,} \PY{n}{left\PYZus{}on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JURISDIC\PYZus{}3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{right\PYZus{}on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{County}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{suffixes}\PY{o}{=}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
\PY{n}{map\PYZus{}model1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{map\PYZus{}model1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{+}\PY{l+m+mi}{1}
\PY{n}{map\PYZus{}model1\PYZus{}labels} \PY{o}{=} \PY{n}{map\PYZus{}model1}
\PY{n}{map\PYZus{}model1\PYZus{}labels}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{map\PYZus{}model1\PYZus{}labels}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{map\PYZus{}model1\PYZus{}labels}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{map\PYZus{}model1\PYZus{}labels}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{category}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{WA\PYZus{}map}\PY{p}{(}\PY{n}{map\PYZus{}model1\PYZus{}labels}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_20_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{93}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<Figure Size: (500 x 400)>
\end{Verbatim}
\end{tcolorbox}
        
    \section{Re-Run IP Model with Race
Constraint}\label{re-run-ip-model-with-race-constraint}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{68}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}define population bounds}
\PY{n}{max\PYZus{}pop} \PY{o}{=} \PY{l+m+mi}{811034}
\PY{n}{min\PYZus{}pop} \PY{o}{=} \PY{l+m+mi}{663573}

\PY{c+c1}{\PYZsh{}define district limits}
\PY{n}{max\PYZus{}districts} \PY{o}{=} \PY{l+m+mi}{5}

\PY{c+c1}{\PYZsh{}create list of county names}
\PY{n}{counties} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{County}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{total\PYZus{}counties} \PY{o}{=} \PY{n+nb}{len}\PY{p}{(}\PY{n}{counties}\PY{p}{)}
\PY{n}{total\PYZus{}counties}

\PY{c+c1}{\PYZsh{}create list of county populations}
\PY{n}{county\PYZus{}pop} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n+nb}{len}\PY{p}{(}\PY{n}{county\PYZus{}pop}\PY{p}{)}

\PY{c+c1}{\PYZsh{}create variable names for model}
\PY{n}{var\PYZus{}names} \PY{o}{=} \PY{p}{[}\PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)} \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{max\PYZus{}districts} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{total\PYZus{}counties} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n+nb}{len}\PY{p}{(}\PY{n}{var\PYZus{}names}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{68}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
36
\end{Verbatim}
\end{tcolorbox}
        
            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{68}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
36
\end{Verbatim}
\end{tcolorbox}
        
            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{68}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
180
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{69}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}define minimization problem}
\PY{n}{WA\PYZus{}Districts} \PY{o}{=} \PY{n}{LpProblem}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Washington\PYZus{}Districting\PYZus{}Model}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{LpMinimize}\PY{p}{)}

\PY{c+c1}{\PYZsh{}define variables}

\PY{c+c1}{\PYZsh{}decision variable \PYZhy{} groups of counties}
\PY{n}{dv\PYZus{}group} \PY{o}{=} \PY{n}{LpVariable}\PY{o}{.}\PY{n}{matrix}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Y}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{var\PYZus{}names}\PY{p}{,} \PY{n}{cat} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Binary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{group} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{dv\PYZus{}group}\PY{p}{)}\PY{o}{.}\PY{n}{reshape}\PY{p}{(}\PY{l+m+mi}{36}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}

\PY{c+c1}{\PYZsh{}decision variable \PYZhy{} populations}
\PY{n}{dv\PYZus{}pop} \PY{o}{=} \PY{n}{LpVariable}\PY{o}{.}\PY{n}{matrix}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{X}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{var\PYZus{}names}\PY{p}{,} \PY{n}{cat} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Integer}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{lowBound} \PY{o}{=} \PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{pop} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{dv\PYZus{}pop}\PY{p}{)}\PY{o}{.}\PY{n}{reshape}\PY{p}{(}\PY{l+m+mi}{36}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}

\PY{c+c1}{\PYZsh{}decision variable \PYZhy{} neighboring counties}
\PY{n}{neighbors} \PY{o}{=} \PY{n}{LpVariable}\PY{o}{.}\PY{n}{dicts}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Adj}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{p}{[}\PY{p}{(}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{,} \PY{n}{k}\PY{p}{)} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)} 
                                     \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)} \PY{k}{for} \PY{n}{k} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{n}{cat} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Binary}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{c+c1}{\PYZsh{}decision variable \PYZhy{} \PYZpc{} white of population}
\PY{n}{dv\PYZus{}white\PYZus{}pop} \PY{o}{=} \PY{n}{LpVariable}\PY{o}{.}\PY{n}{matrix}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{W}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{var\PYZus{}names}\PY{p}{,} \PY{n}{cat} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Continuous}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{lowBound} \PY{o}{=} \PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{white\PYZus{}pop} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{dv\PYZus{}white\PYZus{}pop}\PY{p}{)}\PY{o}{.}\PY{n}{reshape}\PY{p}{(}\PY{l+m+mi}{36}\PY{p}{,} \PY{l+m+mi}{5}\PY{p}{)}

\PY{c+c1}{\PYZsh{}objective function to minimize groupings of counties}
\PY{n}{WA\PYZus{}obj\PYZus{}function} \PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{group}\PY{p}{)}
\PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{WA\PYZus{}obj\PYZus{}function}

\PY{c+c1}{\PYZsh{}define constraints}

\PY{c+c1}{\PYZsh{}entire county population must be used}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
        \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{)} \PY{o}{==} \PY{n}{county\PYZus{}pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Total Population}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}

\PY{c+c1}{\PYZsh{}every county must be in one district}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
        \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n+nb}{sum}\PY{p}{(}\PY{n}{county\PYZus{}pop}\PY{p}{)}\PY{o}{*}\PY{n}{group}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Group Population}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{i}\PY{p}{)} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}

\PY{c+c1}{\PYZsh{}districts cannot be over/under min/max population bounds}
\PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
    \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{)} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{n}{max\PYZus{}pop}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{District Population Maximum}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}
    \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{)} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{n}{min\PYZus{}pop}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{District Population Minimum}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}
    
\PY{c+c1}{\PYZsh{}add equal percentage white voters constraint}
\PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
    \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{lpSum}\PY{p}{(}\PY{n}{white\PYZus{}pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{)} \PY{o}{==} \PY{n}{lpSum}\PY{p}{(}\PY{n}{white\PYZus{}pop\PYZus{}percent}\PY{p}{[}\PY{n}{i}\PY{p}{]} \PY{o}{*} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]} \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Equal White Population }\PY{l+s+s2}{\PYZpc{}}\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{j}\PY{p}{)}    
    
\PY{c+c1}{\PYZsh{}counties in districts must be adjacent}
\PY{k}{for} \PY{n}{k} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
        \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
            \PY{k}{if} \PY{n}{i} \PY{o}{!=} \PY{n}{j} \PY{o+ow}{and} \PY{p}{(}\PY{n}{adj}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighborname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{adj}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{j}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighborname}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{:}
                \PY{n}{WA\PYZus{}Districts} \PY{o}{+}\PY{o}{=} \PY{n}{neighbors}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{,} \PY{n}{k}\PY{p}{]} \PY{o}{+} \PY{n}{neighbors}\PY{p}{[}\PY{n}{j}\PY{p}{,} \PY{n}{i}\PY{p}{,} \PY{n}{k}\PY{p}{]} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2} \PY{o}{*} \PY{n}{group}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{k}\PY{p}{]}

\PY{c+c1}{\PYZsh{}solve objective function}
\PY{n}{WA\PYZus{}Districts}\PY{o}{.}\PY{n}{solve}\PY{p}{(}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Optimal solution status:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{pulp}\PY{o}{.}\PY{n}{LpStatus}\PY{p}{[}\PY{n}{WA\PYZus{}Districts}\PY{o}{.}\PY{n}{status}\PY{p}{]}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Objective value:}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{value}\PY{p}{(}\PY{n}{WA\PYZus{}obj\PYZus{}function}\PY{p}{)}\PY{p}{)}

\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
        \PY{k}{if} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)} \PY{o}{\PYZgt{}} \PY{l+m+mi}{0}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{County }\PY{l+s+si}{\PYZpc{}d}\PY{l+s+s1}{ assigned to district }\PY{l+s+si}{\PYZpc{}d}\PY{l+s+s1}{: }\PY{l+s+s1}{\PYZsq{}} \PY{o}{\PYZpc{}} \PY{p}{(}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{)}\PY{p}{,} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Welcome to the CBC MILP Solver
Version: 2.10.3
Build Date: Dec 15 2019

command line - /Users/baileyscoville/anaconda3/lib/python3.10/site-
packages/pulp/solverdir/cbc/osx/64/cbc /var/folders/z0/v3y1p30945d16\_whz3lt8v\_h0
000gn/T/ee398bfa91614e2da38f0a42ee0e9270-pulp.mps timeMode elapsed branch
printingOptions all solution /var/folders/z0/v3y1p30945d16\_whz3lt8v\_h0000gn/T/ee
398bfa91614e2da38f0a42ee0e9270-pulp.sol (default strategy 1)
At line 2 NAME          MODEL
At line 3 ROWS
At line 440 COLUMNS
At line 3621 RHS
At line 4057 BOUNDS
At line 4478 ENDATA
Problem MODEL has 435 rows, 600 columns and 2160 elements
Coin0008I MODEL read with 0 errors
Option for timeMode changed from cpu to elapsed
Continuous objective value is 1 - 0.00 seconds
Cgl0004I processed model has 221 rows, 360 columns (360 integer (180 of which
binary)) and 720 elements
Cutoff increment increased from 1e-05 to 0.9999
Cbc0038I Initial state - 6 integers unsatisfied sum - 1.51244
Cbc0038I Pass   1: suminf.    0.28424 (3) obj. 36.2842 iterations 43
Cbc0038I Solution found of 39
Cbc0038I Cleaned solution of 39
Cbc0038I Before mini branch and bound, 344 integers at bound fixed and 0
continuous
Cbc0038I Full problem 221 rows 360 columns, reduced to 10 rows 11 columns
Cbc0038I Mini branch and bound improved solution from 39 to 37 (0.01 seconds)
Cbc0038I Round again with cutoff of 36.0001
Cbc0038I Pass   2: suminf.    0.56839 (5) obj. 36.0001 iterations 32
Cbc0038I Pass   3: suminf.    1.68954 (5) obj. 36.0001 iterations 45
Cbc0038I Pass   4: suminf.    1.19589 (5) obj. 36.0001 iterations 3
Cbc0038I Pass   5: suminf.    1.07069 (5) obj. 36.0001 iterations 50
Cbc0038I Pass   6: suminf.    0.57704 (5) obj. 36.0001 iterations 3
Cbc0038I Pass   7: suminf.    1.54707 (7) obj. 36.0001 iterations 35
Cbc0038I Pass   8: suminf.    0.45054 (5) obj. 36.0001 iterations 56
Cbc0038I Pass   9: suminf.    0.45054 (5) obj. 36.0001 iterations 2
Cbc0038I Pass  10: suminf.    1.47222 (5) obj. 36.0001 iterations 65
Cbc0038I Pass  11: suminf.    1.06835 (5) obj. 36.0001 iterations 34
Cbc0038I Pass  12: suminf.    0.79182 (6) obj. 36.0001 iterations 13
Cbc0038I Pass  13: suminf.    2.14694 (7) obj. 36.0001 iterations 69
Cbc0038I Pass  14: suminf.    1.74873 (5) obj. 36.0001 iterations 7
Cbc0038I Pass  15: suminf.    1.00009 (4) obj. 36.0001 iterations 57
Cbc0038I Pass  16: suminf.    1.00000 (4) obj. 36 iterations 35
Cbc0038I Pass  17: suminf.    0.97638 (3) obj. 36.0001 iterations 37
Cbc0038I Pass  18: suminf.    0.97638 (3) obj. 36.0001 iterations 4
Cbc0038I Pass  19: suminf.    1.04815 (5) obj. 36.0001 iterations 53
Cbc0038I Pass  20: suminf.    2.21906 (8) obj. 36.0001 iterations 25
Cbc0038I Pass  21: suminf.    1.00000 (5) obj. 36 iterations 59
Cbc0038I Pass  22: suminf.    0.89361 (3) obj. 36.0001 iterations 15
Cbc0038I Pass  23: suminf.    0.89361 (3) obj. 36.0001 iterations 8
Cbc0038I Pass  24: suminf.    1.00009 (3) obj. 36.0001 iterations 26
Cbc0038I Pass  25: suminf.    1.27394 (8) obj. 36.0001 iterations 73
Cbc0038I Pass  26: suminf.    0.68967 (2) obj. 36.0001 iterations 82
Cbc0038I Pass  27: suminf.    0.73918 (2) obj. 36.0001 iterations 42
Cbc0038I Pass  28: suminf.    1.21646 (7) obj. 36.0001 iterations 44
Cbc0038I Pass  29: suminf.    0.24486 (3) obj. 36.0001 iterations 55
Cbc0038I Pass  30: suminf.    1.19887 (5) obj. 36.0001 iterations 64
Cbc0038I Pass  31: suminf.    0.45796 (3) obj. 36 iterations 53
Cbc0038I Before mini branch and bound, 185 integers at bound fixed and 0
continuous
Cbc0038I Full problem 221 rows 360 columns, reduced to 108 rows 157 columns
Cbc0038I Mini branch and bound improved solution from 37 to 36 (0.02 seconds)
Cbc0038I After 0.02 seconds - Feasibility pump exiting with objective of 36 -
took 0.02 seconds
Cbc0012I Integer solution of 36 found by feasibility pump after 0 iterations and
0 nodes (0.02 seconds)
Cbc0001I Search completed - best objective 36, took 0 iterations and 0 nodes
(0.02 seconds)
Cbc0035I Maximum depth 0, 0 variables fixed on reduced cost
Cuts at root node changed objective from 36 to 36
Probing was tried 0 times and created 0 cuts of which 0 were active after adding
rounds of cuts (0.000 seconds)
Gomory was tried 0 times and created 0 cuts of which 0 were active after adding
rounds of cuts (0.000 seconds)
Knapsack was tried 0 times and created 0 cuts of which 0 were active after
adding rounds of cuts (0.000 seconds)
Clique was tried 0 times and created 0 cuts of which 0 were active after adding
rounds of cuts (0.000 seconds)
MixedIntegerRounding2 was tried 0 times and created 0 cuts of which 0 were
active after adding rounds of cuts (0.000 seconds)
FlowCover was tried 0 times and created 0 cuts of which 0 were active after
adding rounds of cuts (0.000 seconds)
TwoMirCuts was tried 0 times and created 0 cuts of which 0 were active after
adding rounds of cuts (0.000 seconds)
ZeroHalf was tried 0 times and created 0 cuts of which 0 were active after
adding rounds of cuts (0.000 seconds)

Result - Optimal solution found

Objective value:                36.00000000
Enumerated nodes:               0
Total iterations:               0
Time (CPU seconds):             0.02
Time (Wallclock seconds):       0.03

Option for printingOptions changed from normal to all
Total time (CPU seconds):       0.03   (Wallclock seconds):       0.03

    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{69}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
1
\end{Verbatim}
\end{tcolorbox}
        
    \begin{Verbatim}[commandchars=\\\{\}]
Optimal solution status: Optimal
Objective value: 36.0
County 0 assigned to district 2:  20613.0
County 1 assigned to district 4:  22285.0
County 2 assigned to district 4:  206873.0
County 3 assigned to district 3:  79074.0
County 4 assigned to district 4:  77155.0
County 5 assigned to district 3:  503311.0
County 6 assigned to district 1:  3952.0
County 7 assigned to district 2:  110730.0
County 8 assigned to district 4:  42938.0
County 9 assigned to district 4:  7178.0
County 10 assigned to district 3:  96749.0
County 11 assigned to district 2:  2286.0
County 12 assigned to district 1:  99123.0
County 13 assigned to district 0:  75636.0
County 14 assigned to district 2:  86857.0
County 15 assigned to district 2:  275611.0
County 16 assigned to district 3:  44337.0
County 17 assigned to district 0:  82149.0
County 18 assigned to district 2:  10876.0
County 19 assigned to district 2:  42104.0
County 20 assigned to district 2:  23365.0
County 21 assigned to district 3:  17788.0
County 22 assigned to district 0:  12036.0
County 23 assigned to district 1:  46445.0
County 24 assigned to district 4:  294793.0
County 25 assigned to district 1:  62584.0
County 26 assigned to district 1:  226847.0
County 27 assigned to district 1:  256728.0
County 28 assigned to district 4:  32977.0
County 29 assigned to district 0:  22735.0
County 30 assigned to district 2:  65726.0
County 31 assigned to district 3:  13401.0
County 32 assigned to district 2:  129523.0
County 33 assigned to district 0:  539339.0
County 34 assigned to district 2:  4422.0
County 35 assigned to district 1:  47973.0
    \end{Verbatim}

    \subsection{Create Model Results
Dataframe}\label{create-model-results-dataframe}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{70}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{districts\PYZus{}final} \PY{o}{=} \PY{p}{[}\PY{p}{]}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{total\PYZus{}counties}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{n}{max\PYZus{}districts}\PY{p}{)}\PY{p}{:}
        \PY{n}{var\PYZus{}output} \PY{o}{=} \PY{p}{\PYZob{}}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Python\PYZus{}County\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{i} \PY{o}{+} \PY{l+m+mi}{1}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{j}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n+nb}{int}\PY{p}{(}\PY{n}{group}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{p}{(}\PY{n}{j}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{)}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Allocation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)}\PY{p}{,}
         \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Percent White}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{white\PYZus{}pop}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{[}\PY{n}{j}\PY{p}{]}\PY{o}{.}\PY{n}{value}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}
        \PY{n}{districts\PYZus{}final}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{var\PYZus{}output}\PY{p}{)}
        
\PY{n}{results} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{districts\PYZus{}final}\PY{p}{)}
\PY{n}{results} \PY{o}{=} \PY{n}{results}\PY{p}{[}\PY{n}{results}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{!=} \PY{l+m+mi}{0}\PY{p}{]}
\PY{n}{results} \PY{o}{=} \PY{n}{results}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Python\PYZus{}County\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{results}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{70}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
    Python\_County\_Code  District  Assignment  Allocation  Percent White
2                    1         3           3     20613.0           0.00
9                    2         5           5     22285.0      606271.46
14                   3         5           5    206873.0           0.00
18                   4         4           4     79074.0           0.00
24                   5         5           5     77155.0           0.00
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{72}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}merge results dataframe with population/county dataframe}
\PY{n}{df3} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{results}\PY{p}{,} \PY{n}{df}\PY{p}{,} \PY{n}{left\PYZus{}on} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Python\PYZus{}County\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{right\PYZus{}on} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Python\PYZus{}County\PYZus{}Code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{how} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{df3} \PY{o}{=} \PY{n}{df3}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{ascending} \PY{o}{=} \PY{k+kc}{False}\PY{p}{)}
\PY{n}{df3}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{72}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
    Python\_County\_Code  District  Assignment  Allocation  Percent White  \textbackslash{}
9                   10         5           5      7178.0           0.00
8                    9         5           5     42938.0           0.00
24                  25         5           5    294793.0           0.00
28                  29         5           5     32977.0           0.00
1                    2         5           5     22285.0      606271.46

              County  County\_Code  Population  White\_Pop  Percent\_White\_Pop  \textbackslash{}
9       Ferry County           19        7178       6602               0.92
8     Douglas County           17       42938      36824               0.86
24   Thurston County           67      294793     260633               0.88
28  Jefferson County           31       32977      30425               0.92
1      Asotin County            3       22285      20813               0.93

    Latitude  Longitude
9    48.4718  -118.4974
8    47.7791  -119.7475
24   46.8646  -122.7696
28   47.7425  -123.3040
1    46.1460  -117.2085
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{75}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}confirm district population bounds are met}
\PY{n}{df4} \PY{o}{=} \PY{n}{df3}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\PY{n}{df4}

\PY{c+c1}{\PYZsh{}compare with previous model without \PYZpc{} white population constraint}
\PY{n}{df2}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{75}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
District
1    731895
2    743652
3    772113
4    754660
5    684199
Name: Population, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{75}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
District
1    807491
2    669555
3    761536
4    774614
5    673323
Name: Population, dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \section{Create District Map}\label{create-district-map}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{90}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{shade\PYZus{}dict} \PY{o}{=} \PY{p}{\PYZob{}} \PY{l+m+mi}{1} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lightsteelblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{2} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dodgerblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{3} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{royalblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{4} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mediumblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{5} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{darkblue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{6} \PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{12}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{13}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{14}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{15}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{16}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{21}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{23}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{24}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{25}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{26}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{31}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{32}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{34}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{35}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{36}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{41}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{42}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{43}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{45}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{46}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{51}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{52}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{53}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{54}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{56}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
               \PY{l+m+mi}{61}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{62}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{63}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{64}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+m+mi}{65}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{grey}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}

\PY{k}{def} \PY{n+nf}{WA\PYZus{}map}\PY{p}{(}\PY{n}{map\PYZus{}data}\PY{p}{)}\PY{p}{:}
    \PY{n}{plot\PYZus{}district\PYZus{}map} \PY{o}{=} \PY{p}{(}
        \PY{n}{ggplot}\PY{p}{(}\PY{n}{map\PYZus{}data}\PY{p}{)}
    \PY{o}{+} \PY{n}{geom\PYZus{}map}\PY{p}{(}\PY{n}{aes}\PY{p}{(}\PY{n}{fill}\PY{o}{=}\PY{n+nb}{str}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
    \PY{o}{+} \PY{n}{theme\PYZus{}minimal}\PY{p}{(}\PY{p}{)}
    \PY{o}{+} \PY{n}{theme}\PY{p}{(}\PY{n}{axis\PYZus{}text\PYZus{}x}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{axis\PYZus{}text\PYZus{}y}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{axis\PYZus{}title\PYZus{}x}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{axis\PYZus{}title\PYZus{}y}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{axis\PYZus{}ticks}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{panel\PYZus{}grid\PYZus{}major}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{panel\PYZus{}grid\PYZus{}minor}\PY{o}{=}\PY{n}{element\PYZus{}blank}\PY{p}{(}\PY{p}{)}\PY{p}{,}
            \PY{n}{figure\PYZus{}size}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{5}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{)}\PY{p}{)}
    \PY{o}{+} \PY{n}{xlim}\PY{p}{(}\PY{o}{\PYZhy{}}\PY{l+m+mi}{14000000}\PY{p}{,} \PY{o}{\PYZhy{}}\PY{l+m+mi}{13000000}\PY{p}{)}
    \PY{o}{+} \PY{n}{ylim}\PY{p}{(}\PY{l+m+mi}{5500000}\PY{p}{,} \PY{l+m+mi}{6500000}\PY{p}{)}
    \PY{o}{+} \PY{n}{ggtitle}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Washington County District Map \PYZhy{} }\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{ White Population}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{o}{+} \PY{n}{scale\PYZus{}fill\PYZus{}manual}\PY{p}{(}\PY{n}{values}\PY{o}{=}\PY{n}{shade\PYZus{}dict}\PY{p}{)}\PY{p}{)}
        
    \PY{k}{return} \PY{n}{plot\PYZus{}district\PYZus{}map}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{91}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{map\PYZus{}model2} \PY{o}{=} \PY{n}{shapefile\PYZus{}WA}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{df3}\PY{p}{,} \PY{n}{left\PYZus{}on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{JURISDIC\PYZus{}3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{right\PYZus{}on}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{County}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{suffixes}\PY{o}{=}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}left}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
\PY{n}{map\PYZus{}model2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{map\PYZus{}model2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{+}\PY{l+m+mi}{1}
\PY{n}{map\PYZus{}model2\PYZus{}labels} \PY{o}{=} \PY{n}{map\PYZus{}model2}
\PY{n}{map\PYZus{}model2\PYZus{}labels}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{map\PYZus{}model2\PYZus{}labels}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{District}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{map\PYZus{}model2\PYZus{}labels}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{map\PYZus{}model2\PYZus{}labels}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Assignment}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{category}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{WA\PYZus{}map}\PY{p}{(}\PY{n}{map\PYZus{}model2\PYZus{}labels}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{output_30_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{91}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<Figure Size: (500 x 400)>
\end{Verbatim}
\end{tcolorbox}
        
    \subsubsection{Export District Assignment
Dataframes}\label{export-district-assignment-dataframes}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{96}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df1}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{model1.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{header}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{index}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\PY{n}{df3}\PY{o}{.}\PY{n}{to\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{model2.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{header}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{index}\PY{o}{=}\PY{k+kc}{False}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}


    % Add a bibliography block to the postdoc
    
    
    
\end{document}
